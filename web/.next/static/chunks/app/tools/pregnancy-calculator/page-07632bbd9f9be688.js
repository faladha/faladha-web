(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[157],{407:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(2115);let d=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ")};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:l=24,strokeWidth:o=2,absoluteStrokeWidth:n,className:i="",children:c,iconNode:m,...u}=e;return(0,a.createElement)("svg",{ref:t,...s,width:l,height:l,stroke:r,strokeWidth:n?24*Number(o)/Number(l):o,className:d("lucide",i),...u},[...m.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),o=(e,t)=>{let r=(0,a.forwardRef)((r,s)=>{let{className:o,...n}=r;return(0,a.createElement)(l,{ref:s,iconNode:t,className:d("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),o),...n})});return r.displayName="".concat(e),r}},1282:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2619,23)),Promise.resolve().then(r.bind(r,7347))},7347:(e,t,r)=>{"use strict";r.d(t,{CalculatorWidget:()=>i});var a=r(5155),d=r(2115),s=r(407);let l=(0,s.A)("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),o=(0,s.A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),n=["محرم","صفر","ربيع الأول","ربيع الآخر","جمادى الأولى","جمادى الآخرة","رجب","شعبان","رمضان","شوال","ذو القعدة","ذو الحجة"];function i(){let[e,t]=(0,d.useState)("gregorian"),[r,s]=(0,d.useState)(""),[i,c]=(0,d.useState)("1446"),[m,u]=(0,d.useState)("1"),[x,h]=(0,d.useState)("1"),[g,p]=(0,d.useState)(null);return(0,a.jsxs)("div",{className:"border border-border rounded-md p-6 bg-card","data-testid":"calculator-widget",children:[(0,a.jsxs)("div",{className:"flex gap-2 mb-6",children:[(0,a.jsx)("button",{onClick:()=>t("gregorian"),className:"flex-1 py-2 rounded-md text-sm font-semibold transition-colors ".concat("gregorian"===e?"bg-primary text-primary-foreground":"border border-border"),"data-testid":"button-gregorian",children:"ميلادي"}),(0,a.jsx)("button",{onClick:()=>t("hijri"),className:"flex-1 py-2 rounded-md text-sm font-semibold transition-colors ".concat("hijri"===e?"bg-primary text-primary-foreground":"border border-border"),"data-testid":"button-hijri",children:"هجري"})]}),"gregorian"===e?(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"text-sm text-muted-foreground block mb-1",children:"تاريخ أول يوم من آخر دورة (ميلادي)"}),(0,a.jsx)("input",{type:"date",value:r,onChange:e=>s(e.target.value),className:"w-full border border-border rounded-md px-3 py-2 bg-background text-foreground","data-testid":"input-gregorian-date"})]}):(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-muted-foreground block mb-1",children:"السنة"}),(0,a.jsx)("input",{type:"number",value:i,onChange:e=>c(e.target.value),className:"w-full border border-border rounded-md px-3 py-2 bg-background text-foreground","data-testid":"input-hijri-year"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-muted-foreground block mb-1",children:"الشهر"}),(0,a.jsx)("select",{value:m,onChange:e=>u(e.target.value),className:"w-full border border-border rounded-md px-3 py-2 bg-background text-foreground","data-testid":"input-hijri-month",children:n.map((e,t)=>(0,a.jsx)("option",{value:t+1,children:e},t+1))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-muted-foreground block mb-1",children:"اليوم"}),(0,a.jsx)("input",{type:"number",value:x,onChange:e=>h(e.target.value),min:1,max:30,className:"w-full border border-border rounded-md px-3 py-2 bg-background text-foreground","data-testid":"input-hijri-day"})]})]}),(0,a.jsxs)("button",{onClick:function(){let t;if("gregorian"===e){if(!r)return;t=new Date(r)}else t=function(e,t,r){let a=Math.floor((11*e+3)/30),d=Math.floor((10985*t-9995)/30)+r+365*e+a+1948440-385+68569,s=Math.floor(4*d/146097),l=d-Math.floor((146097*s+3)/4),o=Math.floor(4e3*(l+1)/1461001),n=l-Math.floor(1461*o/4)+31,i=Math.floor(80*n/2447),c=n-Math.floor(2447*i/80),m=Math.floor(i/11);return new Date(100*(s-49)+o+m,i+2-12*m-1,c)}(parseInt(i),parseInt(m),parseInt(x));let a=Math.floor((new Date().getTime()-t.getTime())/864e5);if(a<0||a>300)return;let d=Math.floor(a/7),s=new Date(t);s.setDate(s.getDate()+280);let l=Math.floor(d/4.345),o=Math.min(a/280*100,100);p({weeks:d,days:a%7,totalDays:a,dueDate:s,trimester:d<13?1:d<27?2:3,monthEstimate:l,progress:o})},className:"w-full bg-primary text-primary-foreground py-3 rounded-md font-semibold hover:opacity-90 transition-opacity flex items-center justify-center gap-2","data-testid":"button-calculate-full",children:[(0,a.jsx)(l,{className:"w-5 h-5"}),"احسبي موعد ولادتك"]}),g&&(0,a.jsxs)("div",{className:"mt-6 space-y-4","data-testid":"calculator-full-result",children:[(0,a.jsx)("div",{className:"w-full bg-accent rounded-md h-3 overflow-hidden",children:(0,a.jsx)("div",{className:"bg-primary h-full rounded-md transition-all",style:{width:"".concat(g.progress,"%")}})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-center",children:[(0,a.jsxs)("div",{className:"bg-primary/10 rounded-md p-4",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-primary",children:g.weeks}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"أسبوع"})]}),(0,a.jsxs)("div",{className:"bg-primary/10 rounded-md p-4",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-primary",children:g.days}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"يوم"})]}),(0,a.jsxs)("div",{className:"bg-primary/10 rounded-md p-4",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-primary",children:g.trimester}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"الثلث"})]}),(0,a.jsxs)("div",{className:"bg-primary/10 rounded-md p-4",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-primary",children:g.monthEstimate}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"شهر تقريبًا"})]})]}),(0,a.jsxs)("div",{className:"border border-border rounded-md p-4 text-center",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"موعد الولادة المتوقع"}),(0,a.jsxs)("p",{className:"text-lg font-bold text-primary flex items-center justify-center gap-2",children:[(0,a.jsx)(o,{className:"w-5 h-5"}),g.dueDate.toLocaleDateString("ar-SA",{year:"numeric",month:"long",day:"numeric"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:g.dueDate.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),(0,a.jsx)("div",{className:"text-center text-sm text-muted-foreground",children:(0,a.jsxs)("p",{children:["المتبقي على الولادة: ",(0,a.jsx)("strong",{className:"text-foreground",children:280-g.totalDays>0?280-g.totalDays:0})," يوم"]})})]})]})}}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=1282)),_N_E=e.O()}]);