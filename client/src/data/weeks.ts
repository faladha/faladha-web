export interface WeekData {
  slug: string;
  weekNumber: number;
  title: string;
  metaTitle: string;
  metaDescription: string;
  summary: string;
  trimester: 1 | 2 | 3;
  fetusSize: {
    length: string;
    weight: string;
    comparison: string;
  };
  fetalDevelopment: string[];
  motherSymptoms: string[];
  tips: {
    nutrition: string[];
    sleep: string[];
    exercise: string[];
  };
  whenToCallDoctor: string[];
  faq: { question: string; answer: string }[];
  relatedSymptoms: string[];
}

const trimesterForWeek = (w: number): 1 | 2 | 3 =>
  w <= 13 ? 1 : w <= 27 ? 2 : 3;

const fruitComparisons = [
  "بذرة خشخاش", "حبة سمسم", "حبة عدس", "حبة أرز", "بذرة تفاح",
  "حبة بازلاء", "حبة توت", "حبة فاصولياء", "حبة عنب", "حبة زيتون",
  "حبة تين", "حبة ليمون صغيرة", "حبة ليمون", "حبة خوخ صغيرة", "حبة تفاح صغيرة",
  "حبة أفوكادو", "حبة لفت", "حبة فلفل حلو", "حبة طماطم كبيرة", "حبة موز",
  "حبة جزر كبيرة", "حبة بابايا صغيرة", "حبة مانجو", "حبة ذرة", "حبة قرنبيط صغيرة",
  "حبة خس صغيرة", "حبة قرنبيط", "حبة باذنجان", "حبة قرع صغيرة", "حبة خيار كبيرة",
  "جوز الهند", "حبة أناناس صغيرة", "حبة أناناس", "حبة شمام صغيرة", "حبة شمام",
  "حبة بطيخ صغيرة", "حبة شمام كبيرة", "حبة قرع", "حبة بطيخ", "حبة بطيخ كبيرة"
];

const lengths = [
  "0.1", "0.2", "0.3", "0.5", "0.8",
  "1.2", "1.6", "2.0", "2.5", "3.0",
  "4.0", "5.0", "6.5", "8.0", "10",
  "12", "13", "14", "15", "16",
  "27", "28", "29", "30", "33",
  "35", "36", "37", "38", "39",
  "40", "41", "42", "43", "44",
  "45", "47", "48", "49", "50"
];

const weights = [
  "< 1 غ", "< 1 غ", "< 1 غ", "< 1 غ", "< 1 غ",
  "1 غ", "2 غ", "4 غ", "7 غ", "14 غ",
  "23 غ", "43 غ", "70 غ", "100 غ", "140 غ",
  "190 غ", "240 غ", "300 غ", "350 غ", "400 غ",
  "450 غ", "500 غ", "600 غ", "660 غ", "760 غ",
  "900 غ", "1000 غ", "1100 غ", "1250 غ", "1400 غ",
  "1600 غ", "1800 غ", "2000 غ", "2200 غ", "2400 غ",
  "2600 غ", "2800 غ", "3000 غ", "3200 غ", "3400 غ"
];

const weekTitles = [
  "بداية رحلة الحمل والإخصاب",
  "انغراس البويضة المخصبة في الرحم",
  "تأكيد الحمل وبداية التكوّن",
  "تشكّل الأنبوب العصبي والقلب",
  "نمو براعم الأطراف والأعضاء",
  "بداية نبض القلب للجنين",
  "تطور ملامح الوجه والدماغ",
  "تكوّن الأصابع وبداية الحركة",
  "اكتمال الأعضاء الأساسية للجنين",
  "نهاية المرحلة الجنينية وبداية النمو",
  "نمو العظام وظهور الأظافر",
  "تطور الأعضاء التناسلية ونضج الكلى",
  "بداية الثلث الثاني وانحسار الغثيان",
  "تكوّن البصمات الفريدة للجنين",
  "نمو الشعر الناعم (الزغب) على الجسم",
  "تطور السمع وحركات نشطة للجنين",
  "تراكم الدهون تحت الجلد",
  "استجابة الجنين للأصوات والضوء",
  "تطور الحواس الخمس بشكل ملحوظ",
  "منتصف الحمل واكتمال نمو الرحم",
  "بداية الشعور بحركات الجنين بوضوح",
  "تطور حاسة اللمس ونمو الحواجب",
  "نضج الرئتين وبداية التنفس التدريبي",
  "قابلية الحياة خارج الرحم بدعم طبي",
  "تطور المخ بسرعة وزيادة الوزن",
  "فتح العينين واستجابة للضوء",
  "بداية الثلث الأخير ونمو مكثف",
  "تحول وضعية الرأس للأسفل",
  "نضج الجهاز المناعي للجنين",
  "تراكم الدهون واستعداد للولادة",
  "اكتمال نمو الرئتين بشكل كبير",
  "تقوية العظام وزيادة الوزن السريعة",
  "نضج الجهاز الهضمي واستعداد للرضاعة",
  "نمو الأظافر والشعر بشكل كامل",
  "اكتمال النمو واستعداد للمخاض",
  "الحمل المكتمل ومراقبة علامات الولادة",
  "انتظار المخاض الطبيعي",
  "الأسبوع المتوقع للولادة",
  "تجاوز موعد الولادة المتوقع",
  "الأسبوع الأخير ومراقبة طبية مكثفة"
];

const weekSummaries = [
  "في الأسبوع الأول يبدأ جسمك بالاستعداد للحمل. تحدث الدورة الشهرية الأخيرة ويبدأ الرحم بتهيئة بطانته لاستقبال البويضة المخصبة. هذا الأسبوع يُحسب ضمن أسابيع الحمل رغم أن الإخصاب لم يحدث بعد.",
  "تنتقل البويضة المخصبة عبر قناة فالوب وتنغرس في بطانة الرحم. تبدأ خلايا المشيمة بالتكوّن وترتفع مستويات هرمون HCG الذي يمكن الكشف عنه لاحقاً في اختبار الحمل.",
  "يمكنك الآن تأكيد الحمل عبر اختبار منزلي. يبدأ الجنين بالتكوّن كمجموعة خلايا متخصصة ستشكل الأعضاء المختلفة. قد تشعرين بأعراض مبكرة كالتعب والانتفاخ.",
  "يتشكل الأنبوب العصبي الذي سيصبح الدماغ والحبل الشوكي. يبدأ القلب الصغير بالتكوّن وتظهر براعم الأطراف الأولى. حمض الفوليك ضروري جداً في هذه المرحلة.",
  "ينمو الجنين بسرعة مع تطور براعم الذراعين والساقين. تتشكل العينان والأذنان البدائيتان. يبدأ الحبل السري بالعمل لنقل المغذيات.",
  "يمكن سماع نبض القلب لأول مرة عبر الموجات فوق الصوتية. يبدأ الأنف والفم بالتشكّل. معدل نبض قلب الجنين سريع جداً ويصل إلى 150 نبضة في الدقيقة.",
  "تتطور ملامح الوجه بوضوح أكبر مع تشكّل الجفون والأذنين. ينمو الدماغ بسرعة كبيرة. تبدأ الأصابع بالظهور والأطراف تصبح أطول.",
  "تتكون الأصابع بشكل واضح ويبدأ الجنين بالحركة العفوية داخل الرحم. تتطور المفاصل ويمكن للجنين ثني مرفقيه. ينمو الذيل الجنيني ويختفي تدريجياً.",
  "تكتمل الأعضاء الرئيسية للجنين ويبدأ بالتحول من مرحلة الجنين المبكر إلى مرحلة النمو. تتشكل العضلات ويمكنه تحريك أطرافه بشكل أكثر تنسيقاً.",
  "ينتهي أخطر فترة في نمو الجنين مع اكتمال تكوين الأعضاء الأساسية. يبدأ التركيز على نمو وتطوير هذه الأعضاء. تتصلب العظام الغضروفية تدريجياً.",
  "تنمو العظام وتتصلب تدريجياً. تظهر براعم الأسنان تحت اللثة وتبدأ الأظافر بالنمو. يستطيع الجنين فتح وإغلاق قبضتيه.",
  "تتطور الأعضاء التناسلية ويمكن أحياناً تحديد الجنس. تنضج الكلى وتبدأ بإنتاج البول. يتحرك الجنين بنشاط لكن الأم قد لا تشعر بذلك بعد.",
  "يبدأ الثلث الثاني وتتحسن أعراض الغثيان عند معظم الحوامل. ينمو الجنين بسرعة ويبدأ بابتلاع السائل الأمنيوسي لتدريب جهازه الهضمي.",
  "تتكون بصمات الأصابع الفريدة للجنين. يستطيع عمل تعبيرات وجهية بسيطة كالتكشير. يزداد طول الجنين بشكل ملحوظ هذا الأسبوع.",
  "ينمو شعر ناعم يسمى الزغب على جسم الجنين لحمايته. تتطور العظام وتصبح أكثر صلابة. يستطيع الجنين الآن الإمساك بالأشياء بقبضته.",
  "يتطور سمع الجنين ويمكنه سماع الأصوات من خارج الرحم. تزداد حركاته ويمكنك البدء بالشعور بها. ينمو شعر رأسه ورموشه وحواجبه.",
  "تبدأ طبقة من الدهون بالتراكم تحت جلد الجنين لتنظيم حرارته. يصبح الهيكل العظمي أقوى. قد تبدئين بالشعور بحركات الجنين بشكل واضح.",
  "يستجيب الجنين للأصوات والضوء من خارج الرحم. ينمو بشكل متسارع ويزداد نشاطه الحركي. تتطور المايلين حول أعصابه لتسريع نقل الإشارات.",
  "تتطور الحواس الخمس بشكل ملحوظ. يستطيع الجنين التذوق عبر السائل الأمنيوسي ويستجيب للمس. تنضج شبكية العين وتتحسن حاسة السمع.",
  "أنتِ في منتصف الحمل تماماً. يصل الرحم إلى مستوى السرة. يمكنك معرفة جنس الجنين في فحص الموجات فوق الصوتية. تزداد الحركات قوة ووضوحاً.",
  "تشعرين بحركات الجنين بوضوح شديد. ينمو بشكل مستمر وتتطور عضلاته. يبدأ الجنين بدورات نوم واستيقاظ منتظمة.",
  "تنمو الحواجب والرموش بشكل واضح. يتطور حس اللمس ويستكشف الجنين محيطه داخل الرحم. يمكنه الآن الإمساك بالحبل السري.",
  "تنضج الرئتان وتبدآن بإنتاج مادة السيرفاكتانت اللازمة للتنفس. يتدرب الجنين على حركات التنفس. يزداد وزنه بشكل ملحوظ.",
  "يعتبر الجنين قابلاً للحياة خارج الرحم بدعم طبي مكثف إذا ولد مبكراً. تتطور القشرة الدماغية وتزداد التلافيف. يستجيب للأصوات المألوفة.",
  "يتطور المخ بسرعة كبيرة مع تشكل تلافيف جديدة. يفتح الجنين عينيه ويغلقهما. يزداد وزنه بمعدل ملحوظ كل أسبوع.",
  "يستطيع الجنين فتح عينيه والاستجابة للضوء الساطع. تتطور حاسة السمع بشكل كامل. ينمو شعره ويمكن أن يكون طويلاً عند بعض الأجنة.",
  "يبدأ الثلث الأخير من الحمل. ينمو الجنين بشكل مكثف ويحتاج لمزيد من المغذيات. تتطور الدورة الدموية والجهاز المناعي.",
  "يبدأ كثير من الأجنة بالتحول لوضعية الرأس للأسفل استعداداً للولادة. يتراكم المزيد من الدهون تحت الجلد وتتطور الرئتان.",
  "ينضج الجهاز المناعي للجنين ويكتسب أجساماً مضادة من الأم. يتدرب على التنفس والبلع. يزداد حجم الدماغ بشكل كبير.",
  "يتراكم المزيد من الدهون تحت الجلد استعداداً للحياة خارج الرحم. تنعم البشرة وتختفي التجاعيد. يبدأ الجنين بالتخلص من طبقة الزغب.",
  "تنضج الرئتان بشكل كبير وتصبحان جاهزتين تقريباً للتنفس المستقل. يستمر الجنين في اكتساب الوزن والتحضر للولادة.",
  "تتقوى العظام بشكل ملحوظ ويزداد وزن الجنين بسرعة. يتناقص السائل الأمنيوسي تدريجياً ويصبح الرحم أكثر ضيقاً.",
  "ينضج الجهاز الهضمي ويستعد للرضاعة الطبيعية. يتراكم العقي (البراز الأول) في أمعاء الجنين. تنضج ردود الفعل اللازمة للرضاعة.",
  "ينمو الشعر والأظافر بشكل كامل. قد تمتد الأظافر لما بعد أطراف الأصابع. يكتمل نمو الجنين تقريباً ويستعد للولادة.",
  "يكتمل نمو الجنين بشكل كامل تقريباً. تنضج جميع الأجهزة الحيوية. يبدأ الجسم بالاستعداد للمخاض مع نزول الجنين في الحوض.",
  "يعتبر الحمل مكتمل المدة. يراقب الطبيب علامات المخاض. يكون الجنين جاهزاً تماماً للحياة خارج الرحم بوزن وطول مناسبين.",
  "تنتظرين بداية المخاض الطبيعي. يستمر الجنين في النمو البطيء. قد تلاحظين علامات اقتراب الولادة مثل نزول السدادة المخاطية.",
  "هذا هو الأسبوع المتوقع للولادة. فقط 5% من الأطفال يولدون في موعدهم المحدد. يراقب الطبيب حالة الجنين والسائل الأمنيوسي.",
  "تجاوزتِ موعد الولادة المتوقع وهذا أمر شائع. يراقب الطبيب صحة الجنين بشكل دوري. قد يتم مناقشة خيار تحفيز الولادة.",
  "المراقبة الطبية المكثفة ضرورية. يقيّم الطبيب حالة الجنين والمشيمة ومستوى السائل. غالباً ما يتم تحفيز الولادة في هذا الأسبوع إن لم تبدأ طبيعياً."
];

function generateWeekDevelopment(w: number): string[] {
  const allDev: string[][] = [
    ["يتم حساب بداية الحمل من أول يوم في آخر دورة شهرية", "بطانة الرحم تزداد سمكاً استعداداً للانغراس", "البويضة تنضج في المبيض استعداداً للإباضة"],
    ["تنغرس الكتلة الخلوية في بطانة الرحم", "تبدأ المشيمة البدائية بالتكوّن", "يرتفع هرمون HCG في الدم"],
    ["يتكون الأنبوب العصبي البدائي", "تبدأ طبقات الخلايا الثلاث بالتمايز", "القلب البدائي يبدأ بالتشكّل"],
    ["يتشكل الأنبوب العصبي بالكامل", "يبدأ القلب بالنبض بشكل بدائي", "تظهر براعم الأطراف العلوية والسفلية"],
    ["تنمو براعم الذراعين والساقين", "يتشكل الحبل السري ويبدأ عمله", "تتكون العينان والأذنان البدائيتان"],
    ["يمكن سماع نبض القلب بالموجات فوق الصوتية", "يتشكل الأنف والفم والفك", "الدماغ ينمو بسرعة كبيرة"],
    ["تظهر الأصابع البدائية في اليدين والقدمين", "تتشكل الجفون والأذنان الخارجية", "ينمو الدماغ بمعدل 100 خلية عصبية في الدقيقة"],
    ["تتكون المفاصل ويمكن للجنين ثني أطرافه", "تتشكل الأصابع بوضوح وتنفصل عن بعضها", "يختفي الذيل الجنيني تدريجياً"],
    ["تكتمل الأعضاء الرئيسية الداخلية", "تتشكل العضلات ويبدأ الجنين بالحركة", "ينمو الغضروف ويبدأ بالتحول لعظام"],
    ["تكتمل أصابع اليدين والقدمين", "تتصلب العظام تدريجياً وتنمو الأسنان تحت اللثة", "تعمل الكلى وتنتج البول"],
    ["تنمو الأظافر على أصابع اليدين", "تتشكل بصيلات الشعر على الجسم", "يتحرك الجنين بنشاط داخل الرحم"],
    ["تنضج الكلى وتعمل بكفاءة أكبر", "يمكن تحديد الجنس بالموجات فوق الصوتية أحياناً", "يبتلع الجنين السائل الأمنيوسي"],
    ["ينمو الجنين بسرعة ويبدأ بابتلاع السائل", "تتشكل الحبال الصوتية", "تنشط الغدة الدرقية"],
    ["تتكون بصمات الأصابع الفريدة", "يعمل الجنين تعبيرات وجهية", "ينمو الشعر الناعم (اللانوجو) على الجسم"],
    ["ينمو الزغب على كامل الجسم لحماية الجلد", "تتطور العظام وتصبح أكثر صلابة", "يستطيع الإمساك بقبضته بقوة"],
    ["يتطور الجهاز السمعي ويسمع الأصوات", "ينمو شعر الرأس والرموش والحواجب", "تزداد حركات الجنين ويمكن الشعور بها"],
    ["تبدأ طبقة الدهون البنية بالتراكم", "يصبح الهيكل العظمي أقوى", "تتطور المادة البيضاء في الدماغ"],
    ["يستجيب للأصوات والموسيقى من الخارج", "تتطور المايلين حول الأعصاب", "ينمو بشكل متسارع"],
    ["تتطور حاسة التذوق والشم", "تنضج شبكية العين", "يستجيب للمس عبر جدار البطن"],
    ["يصل طول الجنين لنصف طوله النهائي", "تتطور الأعضاء التناسلية الداخلية", "يغطي الطلاء الدهني الجلد"],
    ["تبدأ دورات نوم واستيقاظ منتظمة", "تتطور العضلات بشكل كبير", "يتفاعل مع الأصوات المألوفة"],
    ["تنمو الحواجب والرموش بوضوح", "يستكشف محيطه باللمس", "يمسك بالحبل السري أحياناً"],
    ["تنتج الرئتان مادة السيرفاكتانت", "يتدرب على حركات التنفس", "يزداد وزنه بشكل ملحوظ"],
    ["يعتبر قابلاً للحياة بدعم طبي", "تتطور القشرة الدماغية", "يستجيب للأصوات المألوفة بحركات"],
    ["يتطور المخ بسرعة كبيرة", "يفتح عينيه ويغلقهما", "يكتسب وزناً إضافياً كل أسبوع"],
    ["يرى الضوء عبر جدار البطن", "حاسة السمع مكتملة تقريباً", "ينمو شعر الرأس"],
    ["يدخل مرحلة النمو المكثف", "تتطور الدورة الدموية", "ينضج الجهاز المناعي تدريجياً"],
    ["يتحول لوضعية الرأس للأسفل", "يتراكم المزيد من الدهون تحت الجلد", "تتطور الرئتان بشكل أكبر"],
    ["يكتسب أجساماً مضادة من الأم", "يتدرب على التنفس والبلع", "يزداد حجم الدماغ بشكل كبير"],
    ["تنعم البشرة وتختفي التجاعيد", "يتخلص من طبقة الزغب", "يستعد للحياة خارج الرحم"],
    ["تنضج الرئتان للتنفس المستقل", "يستمر في اكتساب الوزن", "العظام تتصلب ما عدا الجمجمة"],
    ["تتقوى العظام بشكل ملحوظ", "يتناقص السائل الأمنيوسي", "يزداد وزنه بسرعة كبيرة"],
    ["ينضج الجهاز الهضمي", "يتراكم العقي في الأمعاء", "تنضج ردود فعل الرضاعة"],
    ["تنمو الأظافر لما بعد أطراف الأصابع", "يكتمل نمو الشعر", "وزنه يقترب من الوزن النهائي"],
    ["تنضج جميع الأجهزة الحيوية", "ينزل في الحوض استعداداً للولادة", "الرئتان جاهزتان تماماً"],
    ["الجنين مكتمل النمو", "يراقب الطبيب علامات المخاض", "الوزن والطول مناسبان للولادة"],
    ["يستمر في النمو البطيء", "قد تظهر علامات اقتراب المخاض", "المشيمة تعمل بكامل طاقتها"],
    ["5% فقط من الأطفال يولدون في الموعد المحدد", "يراقب الطبيب السائل الأمنيوسي", "الجنين جاهز تماماً للولادة"],
    ["المراقبة الدورية لحركة الجنين مهمة", "قد يناقش الطبيب تحفيز الولادة", "الجنين في أفضل حالاته"],
    ["المتابعة الطبية المكثفة ضرورية", "تقييم حالة المشيمة والسائل", "غالباً يتم تحفيز الولادة"]
  ];
  return allDev[w - 1] || allDev[0];
}

function generateMotherSymptoms(w: number): string[] {
  const firstTri = [
    ["قد لا تشعرين بأي أعراض في هذا الأسبوع", "الدورة الشهرية الأخيرة تحدث طبيعياً", "الجسم يستعد للإباضة"],
    ["قد تشعرين بانتفاخ خفيف في البطن", "ارتفاع طفيف في درجة حرارة الجسم", "إفرازات مهبلية أكثر سمكاً"],
    ["تأخر الدورة الشهرية عن موعدها", "غثيان صباحي خفيف", "ألم في الثديين وتورمهما", "تعب وإرهاق غير معتاد"],
    ["غثيان مع أو بدون قيء", "حساسية مفرطة للروائح", "تقلبات مزاجية واضحة", "كثرة التبول"],
    ["استمرار الغثيان الصباحي", "انتفاخ البطن بسبب الهرمونات", "حرقة خفيفة في المعدة", "رغبة أو نفور من أطعمة معينة"],
    ["غثيان قد يكون شديداً عند بعض الحوامل", "دوخة خفيفة عند الوقوف بسرعة", "إمساك بسبب هرمون البروجسترون", "ألم في أسفل البطن بسبب تمدد الأربطة"],
    ["تزايد حجم الثديين", "حاجة متكررة للتبول", "تعب شديد ورغبة في النوم", "تقلبات مزاجية حادة"],
    ["غثيان قد يبلغ ذروته هذا الأسبوع", "زيادة إفرازات اللعاب", "صداع متكرر", "الشعور بضيق الملابس حول الخصر"],
    ["بداية تحسن تدريجي في الغثيان", "زيادة طفيفة في الوزن", "ظهور عروق واضحة على الثديين", "الرغبة المتكررة في تناول أطعمة معينة"],
    ["تراجع تدريجي في الغثيان", "بداية ظهور بطن صغير", "تحسن في مستوى الطاقة", "إمساك وانتفاخ"],
    ["انتفاخ خفيف في البطن", "تحسن في الشهية", "ظهور خط داكن على البطن أحياناً", "تغيرات في الجلد والشعر"],
    ["زيادة واضحة في حجم البطن", "تحسن كبير في الغثيان", "ظهور إفرازات مهبلية أكثر", "الشعور بالجوع أكثر من المعتاد"],
    ["تراجع واضح في الغثيان والتعب", "زيادة في الشهية والطاقة", "بداية ظهور البطن", "تحسن ملحوظ في المزاج"],
  ];

  const secondTri = [
    ["بداية الشعور بحركات خفيفة للجنين", "ألم في الظهر السفلي", "احتقان الأنف", "زيادة الشهية"],
    ["الشعور بحركات الجنين (الرفرفة)", "آلام في الأربطة المستديرة", "تغيرات في الرؤية أحياناً", "تورم خفيف في القدمين"],
    ["حركات الجنين تصبح أوضح", "ألم في الحوض وأسفل الظهر", "حرقة المعدة تزداد", "تغيرات في لون الجلد"],
    ["نمو سريع في البطن", "ألم الظهر يزداد", "تشنجات في الساقين خاصة ليلاً", "ضيق في التنفس أحياناً"],
    ["الشعور بحركات قوية للجنين", "حكة في البطن بسبب تمدد الجلد", "علامات تمدد الجلد تبدأ بالظهور", "صعوبة في النوم"],
    ["حركات الجنين واضحة وقوية", "ألم في الحوض والأربطة", "تورم في الكاحلين والقدمين", "زيادة واضحة في الوزن"],
    ["الرحم يصل لمستوى السرة", "آلام الظهر مستمرة", "حرقة المعدة شائعة", "الشعور بالتعب مرة أخرى"],
    ["حركات الجنين منتظمة ويمكن الشعور بها من الخارج", "ضيق التنفس يزداد", "تشنجات الساقين متكررة", "أحلام حية ومكثفة"],
    ["ألم في أسفل الضلوع بسبب نمو الرحم", "حرقة المعدة والارتجاع", "تورم اليدين أحياناً", "إمساك مزمن"],
    ["ركلات الجنين قوية ومحسوسة للآخرين", "ألم الظهر الشديد", "صعوبة في النوم المريح", "انقباضات براكستون هيكس خفيفة"],
    ["الشعور بالحكة والشد في البطن", "ضيق التنفس أثناء الحركة", "كثرة التبول تعود مجدداً", "تقلصات تدريبية عرضية"],
    ["حركات الجنين قوية جداً أحياناً", "ألم الحوض يزداد", "تعب متزايد", "صعوبة في إيجاد وضعية مريحة للنوم"],
    ["ألم في أسفل الظهر والحوض", "ضيق تنفس متكرر", "حرقة معدة شديدة", "تورم في الأطراف"],
    ["الرحم يضغط على المثانة والمعدة", "ركلات الجنين مؤلمة أحياناً", "الشعور بالثقل الشديد", "أرق وصعوبة في النوم"],
  ];

  const thirdTri = [
    ["ضيق شديد في التنفس", "انقباضات براكستون هيكس أكثر تكراراً", "ألم في الحوض والعجز", "الشعور بالضغط أسفل البطن"],
    ["تحسن في التنفس مع نزول الجنين في الحوض", "كثرة التبول الشديدة", "ألم في الحوض والمفاصل", "الشعور بالتعب الشديد"],
    ["ألم في الحوض وأسفل الظهر", "تقلصات براكستون هيكس أكثر حدة", "صعوبة في المشي", "تورم في الأطراف"],
    ["انقباضات براكستون هيكس منتظمة", "ألم في الحوض والظهر", "نزول السدادة المخاطية أحياناً", "الشعور بالضغط والثقل"],
    ["تقلصات تحضيرية متكررة", "ألم شديد في الحوض", "أرق وقلق بشأن الولادة", "تورم في الوجه واليدين والقدمين"],
    ["ضيق التنفس يتحسن مع نزول الجنين", "كثرة شديدة في التبول", "إفرازات مخاطية دموية أحياناً", "انقباضات غير منتظمة"],
    ["علامات اقتراب المخاض قد تظهر", "نزول ماء الرأس محتمل", "تقلصات قد تصبح منتظمة", "الشعور بطاقة مفاجئة (غريزة التعشيش)"],
    ["انتظار المخاض في أي لحظة", "تقلصات براكستون هيكس قوية", "الشعور بالضغط الشديد في الحوض", "أرق شديد"],
    ["قلق من تأخر الولادة", "انقباضات غير منتظمة", "ثقل شديد في الحوض", "زيارات متكررة للطبيب"],
    ["مراقبة طبية مكثفة", "انتظار المخاض أو تحفيزه", "تعب شديد وانزعاج", "الرغبة الشديدة في الولادة"],
    ["المراقبة المستمرة ضرورية", "انقباضات قد تبدأ في أي وقت", "ألم وضيق شديد", "استعداد نفسي وجسدي للولادة"],
    ["آخر الاستعدادات للولادة", "مراقبة مكثفة للجنين", "انقباضات تحضيرية قوية", "حالة ترقب وانتظار"],
    ["الولادة وشيكة جداً", "قد يتم تحفيز الولادة", "مراقبة مستمرة للجنين والأم", "الاستعداد النهائي للقاء المولود"],
  ];

  if (w <= 13) return firstTri[w - 1] || firstTri[0];
  if (w <= 27) return secondTri[w - 14] || secondTri[0];
  return thirdTri[w - 28] || thirdTri[0];
}

function generateTips(w: number) {
  const trimester = trimesterForWeek(w);
  if (trimester === 1) {
    return {
      nutrition: ["تناولي حمض الفوليك يومياً (400 ميكروغرام على الأقل)", "أكثري من الأطعمة الغنية بالحديد كالسبانخ واللحوم", "تجنبي الأطعمة النيئة والأجبان غير المبسترة"],
      sleep: ["نامي 8-9 ساعات يومياً", "استخدمي وسادة إضافية لراحة أكبر", "تجنبي النوم على الظهر في الأشهر الأخيرة"],
      exercise: ["المشي الخفيف لمدة 20-30 دقيقة يومياً", "تمارين كيجل لتقوية عضلات الحوض", "تجنبي التمارين العنيفة والقفز"]
    };
  } else if (trimester === 2) {
    return {
      nutrition: ["زيدي السعرات الحرارية بمقدار 300 سعرة يومياً", "تناولي الكالسيوم من الحليب والزبادي", "أكثري من البروتين لدعم نمو الجنين"],
      sleep: ["نامي على الجانب الأيسر لتحسين تدفق الدم", "استخدمي وسادة الحمل بين الركبتين", "خذي قيلولة قصيرة خلال النهار إن أمكن"],
      exercise: ["السباحة الخفيفة مفيدة جداً", "يوغا الحمل لتحسين المرونة", "تمارين التنفس العميق للاسترخاء"]
    };
  }
  return {
    nutrition: ["تناولي وجبات صغيرة متكررة لتخفيف الحرقة", "أكثري من شرب الماء (8 أكواب يومياً)", "تناولي الأطعمة الغنية بأوميغا-3 لدعم نمو دماغ الجنين"],
    sleep: ["ارفعي الجزء العلوي من الجسم قليلاً لتخفيف حرقة المعدة", "جربي تقنيات الاسترخاء قبل النوم", "لا تشربي سوائل كثيرة قبل النوم مباشرة"],
    exercise: ["تمارين تحضير الحوض للولادة", "المشي البطيء للحفاظ على اللياقة", "تمارين التنفس تحضيراً للمخاض"]
  };
}

function generateWhenToCallDoctor(w: number): string[] {
  const common = ["نزيف مهبلي بأي كمية", "ألم شديد في البطن لا يزول"];
  if (w <= 13) {
    return [...common, "غثيان شديد مع عدم القدرة على الأكل أو الشرب", "حمى أعلى من 38 درجة", "إفرازات مهبلية كريهة الرائحة"];
  } else if (w <= 27) {
    return [...common, "تسرب سوائل من المهبل", "انخفاض مفاجئ في حركة الجنين", "صداع شديد مع تشوش في الرؤية", "تورم مفاجئ في الوجه واليدين"];
  }
  return [...common, "انقباضات منتظمة كل 5 دقائق أو أقل", "تسرب السائل الأمنيوسي", "انخفاض ملحوظ في حركة الجنين", "صداع شديد أو تغيرات في الرؤية"];
}

function generateFAQ(w: number): { question: string; answer: string }[] {
  const faqs: { question: string; answer: string }[][] = [];

  for (let i = 1; i <= 40; i++) {
    const weekFaqs: { question: string; answer: string }[] = [];
    if (i <= 4) {
      weekFaqs.push(
        { question: `كيف أعرف أنني حامل في الأسبوع ${i}؟`, answer: `في الأسبوع ${i}، قد لا تظهر أعراض واضحة بعد. يمكن إجراء اختبار حمل منزلي بعد تأخر الدورة بأسبوع للحصول على نتيجة دقيقة. ارتفاع هرمون HCG في الدم هو المؤشر الأدق.` },
        { question: `هل يمكنني ممارسة الرياضة في الأسبوع ${i}؟`, answer: "نعم، التمارين الخفيفة كالمشي آمنة في بداية الحمل. تجنبي التمارين العنيفة والرياضات التي تنطوي على خطر السقوط. استشيري طبيبتك قبل البدء بأي برنامج رياضي." },
        { question: "ما هي الفيتامينات الضرورية في بداية الحمل؟", answer: "حمض الفوليك هو الأهم في الأسابيع الأولى لمنع تشوهات الأنبوب العصبي. كما يُنصح بفيتامين D والحديد. استشيري طبيبتك حول المكملات المناسبة." },
        { question: "هل الغثيان الصباحي طبيعي؟", answer: "نعم، الغثيان شائع جداً في الأسابيع الأولى بسبب ارتفاع الهرمونات. يصيب حوالي 80% من الحوامل. جربي تناول وجبات صغيرة متكررة ومقرمشات جافة في الصباح." }
      );
    } else if (i <= 13) {
      weekFaqs.push(
        { question: `ما حجم الجنين في الأسبوع ${i}؟`, answer: `في الأسبوع ${i}، يكون الجنين بحجم ${fruitComparisons[i - 1]} تقريباً. يبلغ طوله حوالي ${lengths[i - 1]} سم ووزنه ${weights[i - 1]}.` },
        { question: `هل يمكنني السفر في الأسبوع ${i}؟`, answer: "السفر آمن عموماً في الثلث الأول مع بعض الاحتياطات. تجنبي السفر الطويل بالسيارة بدون فترات راحة. اشربي الماء بانتظام وارتدي حزام الأمان أسفل البطن." },
        { question: "متى يمكنني سماع نبض قلب الجنين؟", answer: "يمكن سماع نبض القلب عبر الموجات فوق الصوتية عادةً بين الأسبوع 6-8. بجهاز الدوبلر في العيادة يمكن سماعه من الأسبوع 10-12." },
        { question: `ما الأطعمة التي يجب تجنبها في الأسبوع ${i}؟`, answer: "تجنبي الأسماك عالية الزئبق كسمك أبو سيف، واللحوم والبيض النيء، والأجبان غير المبسترة. قللي من الكافيين (أقل من 200 ملغ يومياً)." }
      );
    } else if (i <= 27) {
      weekFaqs.push(
        { question: `هل حركة الجنين طبيعية في الأسبوع ${i}؟`, answer: `نعم، في الأسبوع ${i} تكون حركة الجنين ${i < 20 ? "خفيفة كالرفرفة" : "واضحة وقوية"}. كل جنين له نمط حركة مختلف. المهم ملاحظة أي تغير مفاجئ في نمط الحركة المعتاد.` },
        { question: `ما الفحوصات المطلوبة في الأسبوع ${i}؟`, answer: `في الثلث الثاني تشمل الفحوصات: تحليل الدم الشامل، فحص السكري، الموجات فوق الصوتية التفصيلية (حوالي الأسبوع 20)، وفحص ضغط الدم والبول في كل زيارة.` },
        { question: "كيف أخفف ألم الظهر خلال الحمل؟", answer: "ارتدي أحذية مريحة ومسطحة. استخدمي حزام دعم البطن. مارسي تمارين تقوية الظهر الخفيفة. تجنبي حمل الأشياء الثقيلة والوقوف لفترات طويلة." },
        { question: `هل زيادة الوزن طبيعية في الأسبوع ${i}؟`, answer: "زيادة الوزن الطبيعية تتراوح بين 11-16 كغ خلال الحمل كاملاً. في الثلث الثاني تكون الزيادة حوالي 0.5 كغ أسبوعياً. استشيري طبيبتك إذا كانت الزيادة أكثر أو أقل من المتوقع." }
      );
    } else {
      weekFaqs.push(
        { question: `ما علامات المخاض في الأسبوع ${i}؟`, answer: "علامات المخاض تشمل: انقباضات منتظمة تزداد قوة وتقارباً، نزول السدادة المخاطية، تسرب السائل الأمنيوسي، وألم في أسفل الظهر يأتي ويذهب بانتظام." },
        { question: `هل وضعية الجنين مهمة في الأسبوع ${i}؟`, answer: "نعم، الوضعية المثالية للولادة هي أن يكون رأس الجنين للأسفل (وضعية رأسية). معظم الأجنة يتحولون لهذه الوضعية بين الأسبوع 32-36. إذا لم يتحول، قد يناقش الطبيب خياراتك." },
        { question: "كيف أستعد لحقيبة المستشفى؟", answer: "جهزي حقيبة المستشفى بعد الأسبوع 35. تشمل: ملابس مريحة لكِ وللمولود، مستلزمات النظافة، أوراق التأمين، شاحن الهاتف، ووسادة مريحة. لا تنسي ملابس للخروج من المستشفى." },
        { question: `ما الفرق بين انقباضات براكستون هيكس والمخاض الحقيقي في الأسبوع ${i}؟`, answer: "انقباضات براكستون هيكس غير منتظمة وتزول بتغيير الوضعية أو شرب الماء. المخاض الحقيقي يتميز بانقباضات منتظمة تزداد قوة وتقارباً مع مرور الوقت ولا تزول بالراحة." }
      );
    }
    faqs.push(weekFaqs);
  }

  return faqs[w - 1] || faqs[0];
}

const relatedSymptomsMap: Record<number, string[]> = {};
const symptomSlugs = [
  "morning-sickness", "fatigue", "breast-changes", "frequent-urination",
  "back-pain", "heartburn", "leg-cramps", "constipation",
  "mood-swings", "swelling", "stretch-marks", "braxton-hicks",
  "insomnia", "shortness-of-breath", "pelvic-pain"
];

for (let i = 1; i <= 40; i++) {
  const startIdx = Math.floor((i - 1) / 3) % symptomSlugs.length;
  relatedSymptomsMap[i] = [
    symptomSlugs[startIdx],
    symptomSlugs[(startIdx + 3) % symptomSlugs.length],
    symptomSlugs[(startIdx + 7) % symptomSlugs.length]
  ];
}

export const weeks: WeekData[] = Array.from({ length: 40 }, (_, i) => {
  const w = i + 1;
  return {
    slug: `week-${w}`,
    weekNumber: w,
    title: weekTitles[i],
    metaTitle: `الأسبوع ${w} من الحمل: ${weekTitles[i]} | فلذة`,
    metaDescription: weekSummaries[i].slice(0, 155),
    summary: weekSummaries[i],
    trimester: trimesterForWeek(w),
    fetusSize: {
      length: `${lengths[i]} سم`,
      weight: weights[i],
      comparison: fruitComparisons[i],
    },
    fetalDevelopment: generateWeekDevelopment(w),
    motherSymptoms: generateMotherSymptoms(w),
    tips: generateTips(w),
    whenToCallDoctor: generateWhenToCallDoctor(w),
    faq: generateFAQ(w),
    relatedSymptoms: relatedSymptomsMap[w],
  };
});

export function getWeek(slug: string): WeekData | undefined {
  return weeks.find(w => w.slug === slug);
}

export function getWeekByNumber(n: number): WeekData | undefined {
  return weeks.find(w => w.weekNumber === n);
}
